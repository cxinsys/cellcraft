"use strict";(self["webpackChunkcellcraft_vue"]=self["webpackChunkcellcraft_vue"]||[]).push([[83],{3083:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layout_admin"},[e("div",{staticClass:"first-line"},[e("div",{staticClass:"header__text"},[t._v("Datasets")]),e("div",{staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],attrs:{type:"text",placeholder:"Search by title..."},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}})]),e("div",{staticClass:"page-size"},[e("label",{attrs:{for:"pageSize"}},[t._v("Page Size : ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],attrs:{id:"pageSize"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.pageSize=e.target.multiple?s:s[0]},t.updatePage]}},[e("option",{attrs:{value:"5"}},[t._v("5")]),e("option",{attrs:{value:"10"}},[t._v("10")]),e("option",{attrs:{value:"15"}},[t._v("15")]),e("option",{attrs:{value:"20"}},[t._v("20")]),e("option",{attrs:{value:"50"}},[t._v("50")])])])]),t._m(0),e("table",[e("thead",[e("tr",[e("th",[t._v("types")]),e("th",{on:{click:function(e){return t.sortTable("title")}}},[t._v(" title "),e("span",{staticClass:"sort-icon"},[t._v(t._s(t.sortIcon("title")))])]),e("th",[t._v("size")]),e("th",[t._v("File URL")]),e("th",[t._v("Post URL")])])]),e("tbody",t._l(t.displayeddatasets,(function(s){return e("tr",{key:s.no},[e("td",[t._v(t._s(s.type))]),e("td",[t._v(t._s(s.path))]),e("td",[t._v(t._s(s.size))]),e("td",[e("a",{attrs:{href:s.url}},[t._v("View File")])]),e("td",[e("a",{attrs:{href:s.posturl}},[t._v("View Post")])])])})),0)]),e("div",{staticClass:"pagination"},[e("button",{attrs:{disabled:1===t.currentPage},on:{click:function(e){t.currentPage--}}},[t._v("Prev")]),e("span",[t._v(t._s(t.currentPage))]),e("button",{attrs:{disabled:t.currentPage===t.totalPages},on:{click:function(e){t.currentPage++}}},[t._v(" Next ")])])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"second-line"},[e("a",{staticClass:"upload-button",attrs:{href:"https://github.com/chxhyxn/TmpCellcraftBoard"}},[t._v(" ⇪ upload new dataset ")])])}],i=s(417);function o(t,e=2){if(0===t)return"0 Bytes";const s=1024,a=e<0?0:e,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,i)).toFixed(a))+" "+r[i]}async function n(t,e){try{const{data:s}=await i.A.get(`https://api.github.com/repos/${t}/contents/${e}`);if(s&&s.sha)return!0}catch(s){return!1}return!1}var c={data(){return{datasets:[],sortKey:"no",sortDirection:"dsc",pageSize:20,currentPage:1,searchTerm:""}},async mounted(){try{const{data:t}=await i.A.get("https://api.github.com/repos/chxhyxn/TmpCellcraftBoard/git/trees/main?recursive=1"),e=t.tree.find((t=>"datasets"===t.path&&"tree"===t.type)).sha,{data:s}=await i.A.get(`https://api.github.com/repos/chxhyxn/TmpCellcraftBoard/git/trees/${e}`);this.datasets=s.tree.filter((t=>"blob"===t.type));const a="chxhyxn/TmpCellcraftBoard";for(const r of this.datasets){const t=r.path.lastIndexOf(".");r.type=-1!==t?r.path.substring(t+1):"",r.size=o(r.size),r.url=`https://github.com/${a}/blob/main/datasets/${r.path}`;const e=r.path.substring(0,t),s=["ipynb","md","txt"];for(const i of s){const t=await n(a,`posts/${e}.${i}`);if(t){r.posturl=`https://github.com/${a}/blob/main/posts/${e}.${i}`;break}}}this.sortTable()}catch(t){console.error("Error fetching data:",t)}},computed:{sorteddatasets(){const t=[...this.datasets];return this.sortKey&&t.sort(((t,e)=>{const s=t[this.sortKey],a=e[this.sortKey];return s<a?"asc"===this.sortDirection?-1:1:s>a?"asc"===this.sortDirection?1:-1:0})),t},totalPages(){return Math.ceil(this.filtereddatasets.length/this.pageSize)},displayeddatasets(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.filtereddatasets.slice(t,e)},filtereddatasets(){if(this.searchTerm){const t=this.searchTerm.toLowerCase();return this.sorteddatasets.filter((e=>e.path.toLowerCase().includes(t)))}return this.sorteddatasets}},methods:{sortTable(t){this.sortKey===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortKey=t,this.sortDirection="asc")},sortIcon(t){return this.sortKey===t?"asc"===this.sortDirection?"▽▲":"▼△":"▽△"},resetSearch(){this.searchTerm=""},resetTypeSearch(){this.searchType=""},updatePage(){this.currentPage=1}}},l=c,h=s(1656),u=(0,h.A)(l,a,r,!1,null,"5809941c",null),d=u.exports}}]);
//# sourceMappingURL=83.0fc051b1.js.map