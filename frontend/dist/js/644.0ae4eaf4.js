"use strict";(self["webpackChunkcellcraft_vue"]=self["webpackChunkcellcraft_vue"]||[]).push([[644],{2263:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layout_admin"},[e("div",{staticClass:"first-line"},[e("div",{staticClass:"header__text"},[t._v("Algorithms")]),e("div",{staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],attrs:{type:"text",placeholder:"Search by name..."},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}})]),e("div",{staticClass:"page-size"},[e("label",{attrs:{for:"pageSize"}},[t._v("Page Size : ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],attrs:{id:"pageSize"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.pageSize=e.target.multiple?s:s[0]},t.updatePage]}},[e("option",{attrs:{value:"5"}},[t._v("5")]),e("option",{attrs:{value:"10"}},[t._v("10")]),e("option",{attrs:{value:"15"}},[t._v("15")])])])]),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{width:"70px"},on:{click:function(e){return t.sortTable("no")}}},[t._v(" No. "),e("span",{staticClass:"sort-icon"},[t._v(t._s(t.sortIcon("no")))])]),e("th",{on:{click:function(e){return t.sortTable("name")}}},[t._v(" name "),e("span",{staticClass:"sort-icon"},[t._v(t._s(t.sortIcon("name")))])]),e("th",[t._v("description")]),e("th",{on:{click:function(e){return t.sortTable("userId")}}},[t._v(" uploader id "),e("span",{staticClass:"sort-icon"},[t._v(t._s(t.sortIcon("userId")))])]),e("th",{on:{click:function(e){return t.sortTable("time")}}},[t._v(" uploaded date "),e("span",{staticClass:"sort-icon"},[t._v(t._s(t.sortIcon("time")))])]),e("th",[t._v("Actions")])])]),e("tbody",t._l(t.displayedalgorithms,(function(s){return e("tr",{key:s.no},[e("td",[t._v(t._s(s.no))]),e("td",[t._v(t._s(s.name))]),e("td",{staticClass:"description-cell"},[t._v(t._s(s.description))]),e("td",[t._v(t._s(s.userId))]),e("td",[t._v(t._s(s.time))]),e("td",[e("button",{staticClass:"table-button delete",on:{click:function(e){return t.deleteAlgorithm(s)}}},[t._v(" Delete ")])])])})),0)]),e("div",{staticClass:"pagination"},[e("button",{attrs:{disabled:1===t.currentPage},on:{click:function(e){t.currentPage--}}},[t._v("Prev")]),e("span",[t._v(t._s(t.currentPage)+" / "+t._s(t.totalPages))]),e("button",{attrs:{disabled:t.currentPage===t.totalPages},on:{click:function(e){t.currentPage++}}},[t._v(" Next ")])]),this.editingAlgorithm?e("div",{staticClass:"layout-edit-setting"},[e("div",{attrs:{id:"layout"}},[e("div",{staticClass:"input-layout"},[e("div",{staticClass:"input-title"},[t._v("input node")]),t._l(t.editingAlgorithm["inputDescriptions"],(function(t){return e("div",{key:t.id,staticClass:"input-description",class:{linked:t.linked}},[e("input",{staticClass:"description-id",attrs:{type:"text","v-model":t.value},domProps:{value:t.id}}),e("input",{staticClass:"description-tooltip",attrs:{type:"text","v-model":t.value},domProps:{value:t.description}})])}))],2),e("div",{staticClass:"algorithm-layout"},[e("img",{staticClass:"algorithm-logo",attrs:{src:this.editingAlgorithm.logo,alt:"Fast Tenet"}}),e("div",{staticClass:"algorithm-parts"},t._l(t.editingAlgorithm["algorithmParts"],(function(s){return e("div",{key:s.id},[e("div",{staticClass:"part-title"},[t._v(t._s(s.id))]),t._l(s.parameters,(function(t){return e("div",{key:t.id},[e("div",{staticClass:"parameters"},[e("input",{staticClass:"description-id",attrs:{type:"text","v-model":t.value},domProps:{value:t.id}}),e("input",{staticClass:"parameter__textInput",class:{"red-text":!t.value},attrs:{type:"text",placeholder:t.default,"v-model":t.value,disabled:t.disabled}}),e("label",{staticClass:"switch",attrs:{"v-model":t.value},on:{click:function(e){t.disabled=!t.disabled}}},[e("input",{attrs:{type:"checkbox"}}),e("span",{staticClass:"slider_button round"})]),e("input",{staticClass:"description-tooltip",attrs:{type:"text","v-model":t.value},domProps:{value:t.description}})])])}))],2)})),0)]),e("div",{staticClass:"output-layout"},[e("div",{staticClass:"output-title"},[t._v("output node")]),t._l(t.editingAlgorithm["outputDescriptions"],(function(t){return e("div",{key:t.id,staticClass:"output-description",class:{linked:t.linked}},[e("input",{staticClass:"description-id",attrs:{type:"text","v-model":t.value},domProps:{value:t.id}}),e("input",{staticClass:"description-tooltip",attrs:{type:"text","v-model":t.value},domProps:{value:t.description}})])}))],2)])]):t._e()])},a=[],r=s(6098),o={data(){return{editingAlgorithm:null,algorithms:[],sortKey:"id",sortDirection:"dsc",pageSize:15,currentPage:1,searchTerm:"",totalCount:0}},async created(){await this.fetchPlugins()},computed:{sortedAlgorithms(){const t=[...this.algorithms];return this.sortKey&&t.sort(((t,e)=>{const s=t[this.sortKey],i=e[this.sortKey];return s<i?"asc"===this.sortDirection?-1:1:s>i?"asc"===this.sortDirection?1:-1:0})),t},totalPages(){return Math.ceil(this.totalCount/this.pageSize)},displayedalgorithms(){return this.sortedAlgorithms},filteredalgorithms(){if(this.searchTerm){const t=this.searchTerm.toLowerCase();return this.sortedAlgorithms.filter((e=>e.name.toLowerCase().includes(t)))}return this.sortedAlgorithms},showEditAlgorithmView(){return this.editingAlgorithm==[]}},methods:{async fetchPlugins(){try{const t={amount:this.pageSize,page_num:this.currentPage,sort:this.sortKey,order:"asc"===this.sortDirection?"asc":"desc",searchTerm:this.searchTerm},[e,i]=await Promise.all([(0,r.Md)(t),(0,r.uG)()]);this.algorithms=e.data.map(((t,e)=>({no:e+1,id:t.id,userId:t.author,name:t.name,time:new Date(t.created_at).toLocaleDateString(),description:t.description||"No description available",logo:t.logo_url||s(2506),inputDescriptions:t.input_descriptions||[],algorithmParts:t.algorithm_parts||[],outputDescriptions:t.output_descriptions||[]}))),this.totalCount=i.data}catch(t){console.error("Error fetching plugins:",t)}},async sortTable(t){this.sortKey===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortKey=t,this.sortDirection="asc"),await this.fetchPlugins()},sortIcon(t){return this.sortKey===t?"asc"===this.sortDirection?"▽▲":"▼△":"▽△"},resetSearch(){this.searchTerm=""},resetTagSearch(){this.searchTag=""},async deleteAlgorithm(t){if(confirm(`Are you sure you want to delete algorithm ${t.name}?`))try{await this.fetchPlugins()}catch(e){console.error("Error deleting plugin:",e)}},async updatePage(){this.currentPage=1,await this.fetchPlugins()},getLinkUrl(){return"https://singlecell.broadinstitute.org/single_cell/study/SCP2221/primary-nasal-viral-infection-rewires-the-tissue-scale-memory-response-rechallenge-rm"},uploadFile(){},editAlgorithmSetting(t){this.editingAlgorithm=t},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchPlugins())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchPlugins())}},watch:{searchTerm:{handler:"updatePage",immediate:!1},pageSize:{handler:"updatePage",immediate:!1}}},n=o,l=s(1656),c=(0,l.A)(n,i,a,!1,null,"7bfa8600",null),u=c.exports},2506:function(t,e,s){t.exports=s.p+"img/fasttenet.f874bad9.png"}}]);
//# sourceMappingURL=644.0ae4eaf4.js.map