"use strict";(self["webpackChunkcellcraft_vue"]=self["webpackChunkcellcraft_vue"]||[]).push([[133],{7133:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"layout"}},[e._m(0),t("div",{staticClass:"options-layout"},[t("div",{staticClass:"options__item"},[e._v(" sif  "),t("select",{staticClass:"options__item__select",domProps:{value:e.selectedSif},on:{change:function(t){return e.setSelectedSif(t)}}},e._l(e.resultSifs,(function(s){return t("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(e._f("splitUnderScore")(s))+" ")])})),0)]),t("div",{staticClass:"options__item"},[e._v(" Degree  "),t("select",{staticClass:"options__item__select",domProps:{value:e.selectedDegree},on:{change:function(t){return e.setSelectedDegree(t)}}},e._l(e.numList,(function(s,i){return t("option",{key:i,domProps:{value:s.value}},[e._v(" "+e._s(s.name)+" ")])})),0)])])])},l=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"plotly-layout"},[t("div",{attrs:{id:"plotly-barplot"}})])}],n=(s(4114),s(6098)),r=s(8933),o=s.n(r),a={data(){return{selectedDegree:0,numList:[{name:"Indegree",value:0},{name:"Outdegree",value:2}],resultSifs:[],selectedSif:"",current_file:""}},name:"PlotlyBarPlot",async mounted(){const e=this.$store.getters.getCurrentLinkedNodes;try{this.current_file=this.filterAndAddSuffix(this.$store.getters.getCurrentFile.file);const s=await(0,n.zJ)({file_name:this.current_file,option_file_name:e[0].algorithmOptions.optionFilePath}),i=s.data.result_files;console.log(i);for(var t=0;t<i.length;t++){const e=i[t].split("_");e[e.length-1].includes("sif")&&this.resultSifs.push(i[t])}this.selectedSif=this.resultSifs[0]}catch(s){console.log(s)}await this.updatePlot(this.selectedDegree)},filters:{splitUnderScore(e){if(e.includes("_")){const t=e.split("_"),s=t[t.length-1];return s}return e}},methods:{filterAndAddSuffix(e){if(e.includes("_")){const t=e.split("_"),s=t.slice(0,-2).join("_")+".h5ad";return s}return e},async updatePlot(e=0){const t=await(0,n.aw)(this.selectedSif);var s=t.data.split("\n"),i=s.map((function(e){return e.split("\t")})),l={};i.forEach((function(t){var s=t[e];l[s]?l[s]++:l[s]=1})),Object.prototype.hasOwnProperty.call(l,"")&&delete l[""];var r=Object.keys(l).map((function(e){return[e,l[e]]}));r.sort((function(e,t){return e[1]-t[1]}));var a={};r.forEach((function(e){a[e[0]]=e[1]}));const c=[{x:r.map((e=>e[1])),y:r.map((e=>e[0])),type:"bar",orientation:"h"}],u={width:600,height:570},d={responsive:!0,scrollZoom:!0,displayModeBar:!0,displaylogo:!1};o().newPlot("plotly-barplot",c,u,d)},async setSelectedDegree(e){this.selectedDegree=e.target.value,await this.updatePlot(this.selectedDegree)},async setSelectedSif(e){this.selectedSif=e.target.value,await this.updatePlot(this.selectedDegree)}}},c=a,u=s(1656),d=(0,u.A)(c,i,l,!1,null,"507ef808",null),f=d.exports}}]);
//# sourceMappingURL=133.59d095b8.js.map