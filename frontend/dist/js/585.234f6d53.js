"use strict";(self["webpackChunkcellcraft_vue"]=self["webpackChunkcellcraft_vue"]||[]).push([[585],{2585:function(e,t,a){a.r(t),a.d(t,{default:function(){return z}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"layout"},[t("div",{staticClass:"first-line"},[e._m(0),t("div",{staticClass:"first-line__right"},[t("div",{staticClass:"add__button",on:{click:function(t){e.showPluginExtension=!0}}},[t("img",{staticClass:"add__button--icon",attrs:{src:a(1632)}}),t("h1",[e._v("Add Plugin")])]),t("div",{staticClass:"search"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],attrs:{type:"text",placeholder:"Search titles..."},domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}})])])]),e.showPluginExtension?t("PluginExtention",{on:{close:function(t){e.showPluginExtension=!1}}}):e._e(),t("table",[t("tbody",e._l(e.filteredPlugins,(function(a){return t("tr",{key:a.id},[t("td",[t("div",{staticClass:"plugin-container"},[t("div",{staticClass:"title-container"},[e._v(" "+e._s(a.title)+" ")]),t("div",{staticClass:"description-container"},[e._v(" "+e._s(a.description)+" ")]),t("div",{staticClass:"lastUpdated-container"},[e._v(" Last Updated: "+e._s(a.lastUpdated)+" ")])]),t("div",{staticClass:"option-container"},[e._m(1,!0),t("label",{staticClass:"switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.checked,expression:"plugin.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.checked)?e._i(a.checked,null)>-1:a.checked},on:{change:function(t){var i=a.checked,n=t.target,l=!!n.checked;if(Array.isArray(i)){var s=null,r=e._i(i,s);n.checked?r<0&&e.$set(a,"checked",i.concat([s])):r>-1&&e.$set(a,"checked",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(a,"checked",l)}}}),t("span",{staticClass:"slider round"})])])])])})),0)])],1)},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"first-line__left"},[t("div",{staticClass:"header__text"},[e._v(" Plugins "),t("div",{staticClass:"header__desc"},[e._v(" Plugin for Data Analysis Algorithm Extensions ")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"setting"},[t("img",{staticClass:"setting__button--icon",attrs:{src:a(7959)}})])}],l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-overlay"},[t("div",{staticClass:"modal-container"},[t("div",{staticClass:"modal-header"},[t("h2",[e._v("Plugin Extension")]),t("button",{staticClass:"close-button",on:{click:function(t){return e.$emit("close")}}},[e._v("âœ•")])]),1===e.currentStep?t("div",{staticClass:"modal-info"},[t("PluginInformation",{ref:"pluginInfoComponent",attrs:{newPlugin:e.plugin},on:{"update-plugin":e.updatePlugin}})],1):e._e(),2===e.currentStep?t("div",{staticClass:"modal-flow"},[t("PluginFlowchart",{ref:"pluginFlowchartComponent",attrs:{newRules:e.rules,newDrawflow:e.drawflow},on:{"update-rules":e.updateRules,"update-drawflow":e.updateDrawflow}})],1):e._e(),3===e.currentStep?t("div",{staticClass:"modal-val"},[t("PluginValidation",{attrs:{plugin:e.plugin,rules:e.rules,drawflow:e.drawflow}})],1):e._e(),t("div",{staticClass:"modal-actions"},[t("button",{attrs:{disabled:1===e.currentStep},on:{click:e.prevStep}},[e._v("Prev")]),t("button",{attrs:{disabled:3===e.currentStep},on:{click:e.nextStep}},[e._v("Next")])])])])},s=[],r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"plugin-container"},[t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-group__label",attrs:{for:"pluginName"}},[e._v("Plugin Name:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.plugin.name,expression:"plugin.name"}],attrs:{type:"text",id:"pluginName"},domProps:{value:e.plugin.name},on:{input:function(t){t.target.composing||e.$set(e.plugin,"name",t.target.value)}}})]),t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-group__label",attrs:{for:"pluginDescription"}},[e._v("Plugin Description:")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.plugin.description,expression:"plugin.description"}],attrs:{id:"pluginDescription",rows:"4"},domProps:{value:e.plugin.description},on:{input:function(t){t.target.composing||e.$set(e.plugin,"description",t.target.value)}}})]),t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-group__label",attrs:{for:"dependencyType"}},[e._v("Select Dependency File Type:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDependencyType,expression:"selectedDependencyType"}],attrs:{id:"dependencyType"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDependencyType=t.target.multiple?a:a[0]},e.addDependencyType]}},[t("option",{attrs:{value:"",disabled:""}},[e._v("Select a file type")]),t("option",{attrs:{value:"requirements.txt",disabled:e.isFileTypeAdded("requirements.txt")}},[e._v("requirements.txt")]),t("option",{attrs:{value:"environment.yml",disabled:e.isFileTypeAdded("environment.yml")}},[e._v("environment.yml")]),t("option",{attrs:{value:"renv.lock",disabled:e.isFileTypeAdded("renv.lock")}},[e._v("renv.lock")])])]),e._l(e.plugin.dependencyFiles,(function(a,i){return t("div",{key:i,staticClass:"input-group"},[t("label",{staticClass:"input-group__label",attrs:{for:a.type}},[e._v(e._s(a.type)+":")]),t("div",{staticClass:"file-upload"},[t("label",{staticClass:"file-label",attrs:{for:a.type}},[t("input",{staticClass:"file-input",attrs:{type:"file",id:a.type},on:{change:function(t){return e.handleFileUpload(t,a.type)}}}),e._v(" "+e._s(a.fileName||"Click to upload a file")+" ")]),t("button",{attrs:{type:"button"},on:{click:function(t){return e.removeDependencyFile(a.type)}}},[e._v("Remove")])])])}))],2)},o=[],u=(a(4114),{props:{newPlugin:{type:Object,required:!0}},data(){return{plugin:{name:"",description:"",dependencyFiles:[]},selectedDependencyType:""}},watch:{newPlugin:{handler(e){this.plugin={...e}},deep:!0,immediate:!0}},methods:{addDependencyType(){this.selectedDependencyType&&!this.isFileTypeAdded(this.selectedDependencyType)&&(this.plugin.dependencyFiles.push({type:this.selectedDependencyType,file:null}),this.selectedDependencyType="")},isFileTypeAdded(e){return this.plugin.dependencyFiles.some((t=>t.type===e))},handleFileUpload(e,t){const a=e.target.files[0],i=this.plugin.dependencyFiles.findIndex((e=>e.type===t));-1!==i&&(this.plugin.dependencyFiles[i].file=a,this.plugin.dependencyFiles[i].fileName=a.name)},removeDependencyFile(e){this.plugin.dependencyFiles=this.plugin.dependencyFiles.filter((t=>t.type!==e))},emitPluginData(){this.$emit("update-plugin",this.plugin)}}}),d=u,p=a(1656),c=(0,p.A)(d,r,o,!1,null,"36e8d158",null),m=c.exports,v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"rule-container"},[t("button",{staticClass:"change-button",on:{click:e.toggleRuleView}},[t("img",{attrs:{src:a(8341)}})]),t("button",{staticClass:"create-button",on:{click:e.showCreateModal}},[e._v(" Create Node "),t("i",{staticClass:"fas fa-plus"})]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRuleView,expression:"!isRuleView"}],attrs:{id:"rule-drawflow"},on:{drop:e.drop,dragover:e.allowDrop}}),e.isRuleView?t("div",{staticClass:"rule-view-container"},[0===e.rules.length?t("div",{staticClass:"warning-comment"},[t("p",[e._v("Rule content does not exist")])]):t("div",e._l(e.rules,(function(a,i){return t("div",{key:i,staticClass:"rule-item"},[t("h4",[e._v("rule "+e._s(a.name)+":")]),t("div",[t("strong",[e._v("input:")]),e._l(a.input,(function(a,i){return t("div",{key:"input-"+i},[e._v(e._s(i)+'="'+e._s(a)+'"')])}))],2),t("div",[t("strong",[e._v("output:")]),e._l(a.output,(function(a,i){return t("div",{key:"output-"+i},[e._v(e._s(i)+'="'+e._s(a)+'"')])}))],2),a.script?t("div",[t("strong",[e._v("script:")]),t("div",[e._v(e._s(e.generateShellCommand(a)))])]):e._e(),t("button",{staticClass:"rule-remove-button",on:{click:function(t){return e.removeRule(i)}}},[e._v("remove")])])})),0)]):e._e(),e.isShowCreateModal?t("div",{staticClass:"createModal-overlay"},[t("div",{staticClass:"createModal-container"},[t("form",[t("div",{staticClass:"controller-group"},[t("label",{attrs:{for:"ruleTitle"}},[e._v("Rule Title:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.ruleTitle,expression:"ruleTitle"}],attrs:{type:"text",id:"ruleTitle"},domProps:{value:e.ruleTitle},on:{input:function(t){t.target.composing||(e.ruleTitle=t.target.value)}}}),t("label",{attrs:{for:"scriptFile"}},[e._v("Upload Script File:")]),t("input",{attrs:{type:"file",id:"scriptFile"},on:{change:e.handleFileUpload}})]),t("div",{staticClass:"script-code-container"},[t("pre",[e._v(e._s(e.completeRule))])]),t("div",{staticClass:"add-parameter-group"},[t("label",[e._v("Parameters:")]),t("div",{staticClass:"parameter-inputs"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newParameter.name,expression:"newParameter.name"}],staticClass:"parameter-name",attrs:{type:"text",placeholder:"Parameter Name"},domProps:{value:e.newParameter.name},on:{input:function(t){t.target.composing||e.$set(e.newParameter,"name",t.target.value)}}}),t("select",{directives:[{name:"model",rawName:"v-model",value:e.newParameter.type,expression:"newParameter.type"}],staticClass:"parameter-type",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newParameter,"type",t.target.multiple?a:a[0])},e.resetParameterOption]}},[t("option",{attrs:{value:"inputFile"}},[e._v("Input File")]),t("option",{attrs:{value:"outputFile"}},[e._v("Output File")]),t("option",{attrs:{value:"string"}},[e._v("String")]),t("option",{attrs:{value:"int"}},[e._v("Integer")]),t("option",{attrs:{value:"float"}},[e._v("Float")]),t("option",{attrs:{value:"boolean"}},[e._v("Boolean")])])]),"inputFile"===e.newParameter.type||"outputFile"===e.newParameter.type?t("div",{staticClass:"file-inputs"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newParameter.fileExtension,expression:"newParameter.fileExtension"}],staticClass:"file-extension-input",attrs:{type:"text",placeholder:"File Type"},domProps:{value:e.newParameter.fileExtension},on:{input:function(t){t.target.composing||e.$set(e.newParameter,"fileExtension",t.target.value)}}}),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedFileExtension,expression:"selectedFileExtension"}],staticClass:"file-extension-select",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedFileExtension=t.target.multiple?a:a[0]},e.updateFileExtension]}},[t("option",{attrs:{value:""}},[e._v("Direct Input")]),t("option",{attrs:{value:".txt"}},[e._v(".txt")]),t("option",{attrs:{value:".csv"}},[e._v(".csv")]),t("option",{attrs:{value:".json"}},[e._v(".json")])])]):t("div",{staticClass:"col-input-group"},["inputFile"!==e.newParameter.type&&"outputFile"!==e.newParameter.type&&"boolean"!==e.newParameter.type?t("input",{directives:[{name:"model",rawName:"v-model",value:e.newParameter.defaultValue,expression:"newParameter.defaultValue"}],staticClass:"default-value-input",attrs:{type:"text",placeholder:"Default Value"},domProps:{value:e.newParameter.defaultValue},on:{input:function(t){t.target.composing||e.$set(e.newParameter,"defaultValue",t.target.value)}}}):e._e(),"boolean"===e.newParameter.type?t("select",{directives:[{name:"model",rawName:"v-model",value:e.newParameter.defaultValue,expression:"newParameter.defaultValue"}],staticClass:"boolean-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newParameter,"defaultValue",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Select Value")]),t("option",{attrs:{value:"true"}},[e._v("True")]),t("option",{attrs:{value:"false"}},[e._v("False")])]):e._e(),"int"===e.newParameter.type||"float"===e.newParameter.type?t("div",{staticClass:"range-inputs"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newParameter.min,expression:"newParameter.min",modifiers:{number:!0}}],staticClass:"range-min",attrs:{type:"number",placeholder:"Min"},domProps:{value:e.newParameter.min},on:{input:function(t){t.target.composing||e.$set(e.newParameter,"min",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newParameter.max,expression:"newParameter.max",modifiers:{number:!0}}],staticClass:"range-max",attrs:{type:"number",placeholder:"Max"},domProps:{value:e.newParameter.max},on:{input:function(t){t.target.composing||e.$set(e.newParameter,"max",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()]),t("button",{attrs:{type:"button"},on:{click:e.addParameter}},[e._v("Add Parameter")])]),t("div",{staticClass:"button-group"},[t("button",{attrs:{type:"button"},on:{click:e.createNode}},[e._v("Create")]),t("button",{attrs:{type:"button"},on:{click:function(t){e.isShowCreateModal=!1}}},[e._v("Cancel")])])])])]):e._e()])},h=[],f=a(1706),g=function(){var e=this,t=e._self._c;return t("div",[t("div",{ref:"nodeBox",staticClass:"nodeBox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.nodeTitle,expression:"nodeTitle"}],attrs:{type:"text","df-title":""},domProps:{value:e.nodeTitle},on:{input:function(t){t.target.composing||(e.nodeTitle=t.target.value)}}})])])},w=[],y={data(){return{nodeId:null,nodeTitle:""}},mounted(){}},A=y,C=(0,p.A)(A,g,w,!1,null,"4d0703ab",null),P=C.exports,x={props:{newRules:{type:Array,required:!0},newDrawflow:{type:Object,required:!0}},data(){return{isRuleView:!1,isShowCreateModal:!1,ruleTitle:"",nodeInputs:0,nodeOutputs:0,inputFiles:[],outputFiles:[],scriptFile:null,newParameter:{name:"",type:"string",defaultValue:"",min:null,max:null,fileExtension:""},parameters:[],selectedFileExtension:"",completeRule:"",shellCommand:"",nodeData:{},rules:[...this.newRules],drawflow:{...this.newDrawflow},allowRuleEdit:!1}},mounted(){const e=document.getElementById("rule-drawflow");f.Ay.prototype.$df=new Drawflow(e,f.Ay,this),this.$df.start(),this.$df.registerNode("ruleNode",P,{},{}),this.$df.on("nodeCreated",(e=>this.onNodeCreated(e))),this.$df.on("nodeRemoved",(e=>this.onNodeRemoved(e))),this.$df.on("connectionCreated",(e=>this.onConnectionCreated(e))),this.$df.on("connectionRemoved",(e=>this.onConnectionRemoved(e))),this.$df.on("nodeDataChanged",(e=>this.onNodeDataChanged(e,data))),this.importDrawflowData()},watch:{ruleTitle:"updateCompleteRule",parameters:{handler:"updateShellCommand",deep:!0},newRules:{handler(e){this.rules=[...e]},deep:!0,immediate:!0},newDrawflow:{handler(e){this.drawflow={...e},console.log("newDrawflow",this.drawflow),this.importDrawflowData()},deep:!0,immediate:!0}},methods:{showCreateModal(){this.isShowCreateModal=!0},toggleRuleView(){this.isRuleView=!this.isRuleView},allowDrop(e){e.preventDefault()},drop(e){e.preventDefault()},handleFileUpload(e){if(this.scriptFile=e.target.files[0],this.scriptFile){const e=new FileReader;e.onload=e=>{this.scriptContent=e.target.result,this.updateShellCommand()},e.readAsText(this.scriptFile)}},updateShellCommand(){if(!this.scriptFile)return;const e=this.scriptFile.name;let t="";t=e.endsWith(".py")?`/python ${e}`:e.endsWith(".R")?`/Rscript ${e}`:`/${e}`;const a=this.parameters.map((e=>"inputFile"===e.type||"outputFile"===e.type?`${e.defaultValue}(${e.type})`:`${e.name}(${e.type}:${e.defaultValue})`)).join(" ");this.shellCommand=`${t} ${a}`,this.updateCompleteRule()},updateCompleteRule(){const e=this.parameters.filter((e=>"inputFile"===e.type)).map((e=>e.defaultValue)).join(", "),t=this.parameters.filter((e=>"outputFile"===e.type)).map((e=>e.defaultValue)).join(", ");this.completeRule=`rule ${this.ruleTitle}:\n  input: ${e}\n  output: ${t}\n  shell:\n    "${this.shellCommand}"`},addParameter(){if(!this.scriptFile)return void alert("Please upload a script file first.");const e={...this.newParameter};"inputFile"!==e.type&&"outputFile"!==e.type||(e.defaultValue=e.name+e.fileExtension),e.name&&e.defaultValue?(this.parameters.push(e),this.resetNewParameter(),this.updateShellCommand()):alert("Please fill in the parameter name and default value.")},resetNewParameter(){this.newParameter={name:"",type:"string",defaultValue:"",min:null,max:null,fileExtension:""},this.selectedFileExtension=""},resetParameterOption(){this.newParameter.defaultValue=""},updateFileExtension(){this.newParameter.fileExtension=this.selectedFileExtension},createNode(){const e=this.rules.some((e=>e.name===this.ruleTitle));if(e)return alert("The rule title already exists. Please change the rule title."),void(this.ruleTitle="");const t=this.parameters.filter((e=>"inputFile"===e.type)).map((e=>e.defaultValue)),a=this.parameters.filter((e=>"outputFile"===e.type)).map((e=>e.defaultValue)),i={title:this.ruleTitle,inputs:t,outputs:a,script:this.scriptFile,parameters:this.parameters};this.nodeData=i;let n,l=Math.floor(100*Math.random())+10;const s=this.$df.addNode("ruleNode",t.length,a.length,n,l,"ruleNode",i,"ruleNode","vue");console.log(s,i),this.closeModal()},addNewRule(e,t){const a={nodeId:e,name:t.title,input:t.inputs,output:t.outputs,script:t.script?t.script.name:"",parameters:t.parameters};this.rules.push(a),this.nodeData={}},closeModal(){this.isShowCreateModal=!1,this.ruleTitle="",this.scriptFile=null,this.parameters=[],this.completeRule="",this.shellCommand=""},generateShellCommand(e){const t=e.parameters.map((e=>"inputFile"===e.type||"outputFile"===e.type?`${e.defaultValue}(${e.type})`:`${e.name}(${e.type}:${e.defaultValue})`)).join(" "),a=e.script?e.script:"";let i="";return i=a.endsWith(".py")?`/python ${a}`:a.endsWith(".R","r")?`/Rscript ${a}`:`/${a}`,`${i} ${t}`},checkAndConnectNodes(){const e=this.$df.getNodesFromName("ruleNode"),t=new Map;e.forEach((e=>{const a=this.rules.find((t=>t.nodeId===e));a&&t.set(e,a)})),e.forEach(((a,i)=>{const n=t.get(a);n&&e.slice(i+1).forEach((e=>{const i=t.get(e);i&&n.output.forEach(((t,n)=>{i.input.forEach(((i,l)=>{t===i&&(console.log("log connection check",a,e,n+1,l+1),this.allowRuleEdit=!0,this.$df.addConnection(a,e,`output_${n+1}`,`input_${l+1}`))}))}))}))}))},onNodeCreated(e){try{console.log("Node created",e),this.addNewRule(e,this.nodeData),this.checkAndConnectNodes()}catch(t){console.error(t)}},onConnectionCreated(e){if(this.allowRuleEdit)try{this.allowRuleEdit=!1}catch(t){console.error(t)}else this.$df.removeSingleConnection(e.output_id,e.input_id,e.output_class,e.input_class),alert("Connection is not allowed.")},onNodeRemoved(e){if(this.allowRuleEdit)try{this.allowRuleEdit=!1}catch(t){console.error(t)}else{alert("Node removal is not allowed.");const t=this.rules.find((t=>t.nodeId===e));let a,i=Math.floor(100*Math.random())+10;this.$df.addNode("ruleNode",t.input.length,t.output.length,a,i,"ruleNode",t,"ruleNode","vue")}},removeRule(e){const t=confirm("Are you sure you want to delete this rule?");if(t){this.allowRuleEdit=!0;const t=this.$df.getNodeFromName(this.rules[e].name);this.$df.removeNodeId(t.id),this.rules.splice(e,1),this.emitRules()}},onConnectionRemoved(e){if(this.allowRuleEdit)try{this.allowRuleEdit=!1}catch(t){console.error(t)}else alert("Connection removal is not allowed."),this.$df.addConnection(e.output_id,e.input_id,e.output_class,e.input_class)},onNodeDataChanged(e){const t=this.$df.getNodeFromName(e),a=this.rules.find((e=>e.nodeId===t.id));a.name=t.data.title},emitRules(){this.$emit("update-rules",this.rules)},emitDrawflow(){this.drawflow=this.$df.export(),this.$emit("update-drawflow",this.drawflow)},emitFlowchartData(){this.emitRules(),this.emitDrawflow()},importDrawflowData(){if(this.drawflow&&this.drawflow.drawflow)try{this.$df.import(this.drawflow)}catch(e){console.error("Error importing drawflow data: ",e)}}}},F=x,T=(0,p.A)(F,v,h,!1,null,null,null),E=T.exports,D=function(){var e=this,t=e._self._c;return t("div",{staticClass:"validation-container"},[t("h2",[e._v("Validate and Upload Plugin")]),t("div",{staticClass:"section plugin-info"},[t("h3",[e._v("Plugin Information")]),t("p",[t("strong",[e._v("Name:")]),e._v(" "+e._s(e.plugin.name))]),t("p",[t("strong",[e._v("Description:")]),e._v(" "+e._s(e.plugin.description))]),t("p",[t("strong",[e._v("Dependency Files:")]),t("ul",e._l(e.plugin.dependencyFiles,(function(a,i){return t("li",{key:i},[e._v(" "+e._s(a.type)+" - "+e._s(a.file)+" ")])})),0)])]),t("div",{staticClass:"section rules-info"},[t("h3",[e._v("Rules")]),e._l(e.rules,(function(a,i){return t("div",{key:i,staticClass:"rule-item"},[t("h4",[e._v("Rule "+e._s(a.name))]),t("div",[t("strong",[e._v("Input:")]),e._l(a.input,(function(a,i){return t("div",{key:i},[e._v(e._s(a))])}))],2),t("div",[t("strong",[e._v("Output:")]),e._l(a.output,(function(a,i){return t("div",{key:i},[e._v(e._s(a))])}))],2),a.script?t("div",[t("strong",[e._v("Script:")]),t("div",[e._v(e._s(a.script))])]):e._e(),t("div",[t("strong",[e._v("Parameters:")]),e._l(a.parameters,(function(a,i){return t("div",{key:i},[e._v(" "+e._s(a.name)+" ("+e._s(a.type)+"): "+e._s(a.defaultValue)+" ")])}))],2),a.script?t("div",[t("strong",[e._v("script execution command:")]),t("div",[e._v(e._s(e.generateShellCommand(a)))])]):e._e()])}))],2),t("div",{staticClass:"validation-actions"},[t("button",{on:{click:e.uploadPluginData}},[e._v("Upload Plugin")])])])},N=[],_=a(6098),S={props:{plugin:{type:Object,required:!0},rules:{type:Array,required:!0},drawflow:{type:Object,required:!0}},data(){return{processedPlugin:{...this.plugin},reponse:null}},mounted(){this.processDependencyFiles()},methods:{async processDependencyFiles(){const e=this.processedPlugin.dependencyFiles.map((async e=>{e.file instanceof File&&(e.file=await this.readFileContent(e.file))}));await Promise.all(e)},readFileContent(e){return new Promise(((t,a)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=a,i.readAsText(e)}))},async uploadPluginData(){const e="\n                    Have you confirmed the following:\n                    - All uploaded scripts meet the dependencies?\n                    - The complete shell command can correctly execute the specified script?\n                    - The script works correctly?\n                    - The final output is visualized correctly?\n                    ",t=confirm(e);if(t){console.log("Uploading plugin...",this.plugin,this.rules);const e=await(0,_.Hs)(this.plugin,this.rules,this.drawflow);console.log("Response:",e),this.response=e}else alert("Please verify the plugin details and try again.")},generateShellCommand(e){const t=e.parameters.map((e=>"inputFile"===e.type||"outputFile"===e.type?`${e.defaultValue}(${e.type})`:`${e.name}(${e.type}:${e.defaultValue})`)).join(" "),a=e.script?e.script:"";let i="";return i=a.endsWith(".py")?`/python ${a}`:a.endsWith(".R")?`/Rscript ${a}`:`/${a}`,`${i} ${t}`}}},b=S,R=(0,p.A)(b,D,N,!1,null,"0111f64e",null),k=R.exports,J={data(){return{currentStep:1,plugin:{name:"",description:"",dependencyFiles:[]},rules:[],drawflow:{}}},components:{PluginInformation:m,PluginFlowchart:E,PluginValidation:k},methods:{prevStep(){this.currentStep>1&&(this.emitCurrentStepData(),this.currentStep--)},nextStep(){this.currentStep<3&&(this.emitCurrentStepData(),this.currentStep++)},emitCurrentStepData(){1===this.currentStep?this.$refs.pluginInfoComponent.emitPluginData():2===this.currentStep&&this.$refs.pluginFlowchartComponent.emitFlowchartData()},updatePlugin(e){this.plugin=e},updateRules(e){this.rules=e},updateDrawflow(e){this.drawflow=e}}},V=J,O=(0,p.A)(V,l,s,!1,null,"ffae1e18",null),M=O.exports,I={components:{PluginExtention:M},data(){return{showPluginExtension:!1,searchTerm:"",plugins:[{id:1,title:"TENET",description:"A tool for reconstructing Transfer Entropy-based causal gene NETwork from pseudo-time ordered single cell transcriptomic data",lastUpdated:"2024/03/18",checked:!0},{id:2,title:"TENET TF",description:"A tool for reconstructing Transfer Entropy-based causal gene NETwork from pseudo-time ordered single cell transcriptomic data",lastUpdated:"2024/03/18",checked:!0}]}},computed:{filteredPlugins(){return this.plugins.filter((e=>e.title.toLowerCase().includes(this.searchTerm.toLowerCase())))}},methods:{getCurrentDateString(){const e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}/${a}/${i}`}}},U=I,Z=(0,p.A)(U,i,n,!1,null,"4ed8f3b2",null),z=Z.exports},1632:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAPJJREFUSEu9lQsOAiEMRNmTqSdTT6aeTHdMh3RLaddoJdks4TMPBkqXVlyWYv22B3BsreE7yGJQv0r9vvbhm5YIAKGziEcaAADogmaAi4hDGBMf8qeI3hXqKIBg3qZ4AC3uTjIa4XgLwGpuInDK/FWg6TwLgDgPcdjuattTRKOdw0Ys7l30QK5iM8DYEQEwlAvsu9cAehn5ngEGDQ8QeZ8BBhc0wJvMtizgrU63WXfQPw/6KaCfrwf4hUX9HP96yOXXVN/j2VX9KtAAKH8qACl97HgdS59rQkoTjg4sJhe0IcMx6dgk5AbjnpycRXHYXw54AR8IWBnxdB8vAAAAAElFTkSuQmCC"},8341:function(e){e.exports="data:image/png;base64,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"},7959:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAARlJREFUSEu1VUESAjEIw5epL1Nfpr5MJw7psBQKHtrLjmsgIQX2JJvPaXN+6RI8ReTixLxE5FoJ7BJ8kkRlfAnQxCQg3v8mP6pEZeNEBLQDwIdac9NAWtLB/Eg8ARQgODogu+sfeIK0wk0ELB3Jzqo+u0yIAQmewOOQdAi3FVDVqjuAoccHr11lo1pLYFvR2oHYyJIVZoj0d2ATMcHqXhgfxYWXbNV2CIhJ7V21qQ9edQwJvG1TF2WlZpOMuYDfLYu2X3JapnrDZYcnB87bRpFhmwJsB42Dw5UR9b1dGW8dtMMcrdrUq+uuCt5L2qa2TKjhOrDKOpiUYFq5xrpqXU+t/O/3wCco40uAZtz+yUxWf/26W0GdKUF8AUFRXxlnrt3sAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=585.234f6d53.js.map