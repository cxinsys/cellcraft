"use strict";(self["webpackChunkcellcraft_vue"]=self["webpackChunkcellcraft_vue"]||[]).push([[146],{4146:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layout_admin"},[e("div",{staticClass:"first-line"},[e("div",{staticClass:"header__text"},[t._v("Users")]),e("div",{staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],attrs:{type:"text",placeholder:"Search by keyword..."},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}})]),e("div",{staticClass:"page-size"},[e("label",{attrs:{for:"pageSize"}},[t._v("Page Size : ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],attrs:{id:"pageSize"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.pageSize=e.target.multiple?s:s[0]},t.resetPageNum]}},[e("option",{attrs:{value:"5"}},[t._v("5")]),e("option",{attrs:{value:"10"}},[t._v("10")]),e("option",{attrs:{value:"15"}},[t._v("15")]),e("option",{attrs:{value:"20"}},[t._v("20")]),e("option",{attrs:{value:"50"}},[t._v("50")])])])]),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{width:"70px"},on:{click:function(e){return t.sortTable("id")}}},[t._v(" id "),e("span",{staticClass:"sort-icon"},[t._v(t._s(t.sortIcon("id")))])]),e("th",{on:{click:function(e){return t.sortTable("username")}}},[t._v(" name "),e("span",{staticClass:"sort-icon"},[t._v(t._s(t.sortIcon("username")))])]),e("th",{on:{click:function(e){return t.sortTable("email")}}},[t._v(" e-mail "),e("span",{staticClass:"sort-icon"},[t._v(t._s(t.sortIcon("email")))])])])]),e("tbody",t._l(t.users,(function(s){return e("tr",{key:s.id},[e("td",[t._v(t._s(s.id))]),e("td",[t._v(t._s(s.username))]),e("td",[t._v(t._s(s.email))])])})),0)]),e("div",{staticClass:"pagination"},[e("button",{attrs:{disabled:1===t.currentPage},on:{click:function(e){t.currentPage--}}},[t._v("Prev")]),e("span",[t._v(t._s(t.currentPage))]),e("button",{attrs:{disabled:t.currentPage===t.totalPages},on:{click:function(e){t.currentPage++}}},[t._v(" Next ")])])])},r=[],i=s(6098),n={data(){return{users:[],sortKey:"id",sortDirection:"asc",pageSize:20,currentPage:1,searchTerm:"",usersCount:0}},async mounted(){await this.updateUsers()},computed:{totalPages(){return Math.ceil(this.usersCount/this.pageSize)}},methods:{async updateUsers(){const t=await(0,i.oL)();this.usersCount=t.data;const e={amount:this.pageSize,page_num:this.currentPage,sort:this.sortKey,order:this.sortDirection,searchTerm:this.searchTerm},s=await(0,i.S6)(e);this.users=s.data},async sortTable(t){this.sortKey===t?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortKey=t,this.sortDirection="asc"),await this.updateUsers()},sortIcon(t){return this.sortKey===t?"asc"===this.sortDirection?"▽▲":"▼△":"▽△"},resetPageNum(){this.currentPage=1}},watch:{searchTerm:{handler:function(){this.updateUsers()},immediate:!0}}},o=n,c=s(1656),u=(0,c.A)(o,a,r,!1,null,"660a11b7",null),l=u.exports}}]);
//# sourceMappingURL=146.49097efa.js.map